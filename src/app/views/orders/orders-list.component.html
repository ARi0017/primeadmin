<div class="col-lg-12">

  <div class="card">

    <div class="card-body">
      <div class="row">
        <div class="col-sm-5">
          <div class="row form-group">
            <label class="col-md-3 col-form-label text-right">Order</label>
            <div class="col-md-9">
              <input type="text" class="form-control" [(ngModel)] = "ordernumber" placeholder="Enter Order No"  />
            </div>
          </div>
        </div>
        <div class="col-sm-5">
          <div class="row form-group">
            <label class="col-md-3 col-form-label text-right">Driver</label>
            <div class="col-md-9">
              <input type="text" class="form-control" [(ngModel)] = "drivername" placeholder="Enter Driver"  />
            </div>
          </div>
        </div>
        <div class="col-sm-2">
          <button type="button" (click)="search()" class="btn btn-sm btn-primary">
            <i class="fa fa-dot-circle-o"></i>
            Search
          </button>
        </div>
      </div>

        <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Order No</th>
            <th>Customer</th>
            <th>Order Details</th>
            <th>Payment</th>
            <th>Delivery</th>
            <th>Mapping</th>

          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let dataval of data">
            <td>{{dataval.OrderNo}} ( {{dataval.OrderStatus}})<br/>
              On: {{dataval.OrderedOn}}
            
            </td>
            <td>{{dataval.CustomerName}}<br/>
            Phone:  {{dataval.CustomerPhone}}
            </td>
            <td>{{dataval.OrderDetail}} </td>

            <td>
              TotalAmt: {{dataval.TotalAmt}}<br/>
              Disc.: {{dataval.Discount}} Tax: {{dataval.TaxAmt}} Delivery: {{dataval.DeliveryAmt}}<br/>
              Pay Mode: {{dataval.PaymentMode}}<br/>              
            </td>

            <td>
               <select *ngIf="dataval.DriverName == 'Driver not yet selected';else isdriverselected"  class="form-control" [(ngModel)] = "driverid">
                <option [value]="undefined" disabled  selected>Select</option>
                <option *ngFor="let val of driverdata" [value]="val.DriverId">
                {{val.Name}}
              </option>
            </select>
            <ng-template #isdriverselected>
              {{dataval.DriverName}}
            </ng-template></td>
            <td>
              <a *ngIf="dataval.DriverName == 'Driver not yet selected';else allreadymapped" class="btn btn-info btn-sm" (click)="mapdriver(dataval.OrderId)"><i class="fa fa-floppy-o" aria-hidden="true"></i> Save</a>
              <ng-template #allreadymapped>
              <b>Driver Mapped Allready</b>
              </ng-template>
            </td>
          </tr>
        </tbody>

        <tfoot>
          <tr>
              <td colspan="4" class="pull-right">
                  <!-- <mfBootstrapPaginator [rowsOnPageSet]="[5, 10, 15]"></mfBootstrapPaginator> -->
                  <pagination [totalItems]="count" [boundaryLinks]='true' [maxSize]="5" [rotate]='false'
                      [(ngModel)]="page" (pageChanged)="getPagination($event.page)">
                  </pagination>
              </td>
          </tr>
      </tfoot>
      </table>
    </div>
  </div>
</div>
